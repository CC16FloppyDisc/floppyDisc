[{"/Users/work/Code Chrysalis/floppyDisc/src/App.jsx":"1","/Users/work/Code Chrysalis/floppyDisc/src/components/ProductList.jsx":"2","/Users/work/Code Chrysalis/floppyDisc/src/components/Header.jsx":"3","/Users/work/Code Chrysalis/floppyDisc/src/components/SearchBar.jsx":"4","/Users/work/Code Chrysalis/floppyDisc/src/components/Product.jsx":"5","/Users/work/Code Chrysalis/floppyDisc/src/index.js":"6","/Users/work/Code Chrysalis/floppyDisc/src/routes/Login.jsx":"7","/Users/work/Code Chrysalis/floppyDisc/src/routes/Home.jsx":"8","/Users/work/Code Chrysalis/floppyDisc/src/components/Profile.jsx":"9","/Users/work/Code Chrysalis/floppyDisc/src/components/AddGame.jsx":"10","/Users/work/Code Chrysalis/floppyDisc/src/reportWebVitals.js":"11","/Users/work/Code Chrysalis/floppyDisc/src/routes/Register.jsx":"12","/Users/work/Code Chrysalis/floppyDisc/src/routes/Dashboard.jsx":"13"},{"size":1126,"mtime":1608172201711,"results":"14","hashOfConfig":"15"},{"size":1099,"mtime":1608204463874,"results":"16","hashOfConfig":"15"},{"size":1014,"mtime":1608215662441,"results":"17","hashOfConfig":"15"},{"size":761,"mtime":1608102488081,"results":"18","hashOfConfig":"15"},{"size":3277,"mtime":1608185354656,"results":"19","hashOfConfig":"15"},{"size":536,"mtime":1608080645016,"results":"20","hashOfConfig":"15"},{"size":3018,"mtime":1608199875758,"results":"21","hashOfConfig":"15"},{"size":337,"mtime":1608098509449,"results":"22","hashOfConfig":"15"},{"size":592,"mtime":1608216837870,"results":"23","hashOfConfig":"15"},{"size":2357,"mtime":1608216848835,"results":"24","hashOfConfig":"15"},{"size":362,"mtime":1608080645016,"results":"25","hashOfConfig":"15"},{"size":3398,"mtime":1608182739116,"results":"26","hashOfConfig":"15"},{"size":1329,"mtime":1608217709079,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"7tskzy",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"37"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"37"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"37"},"/Users/work/Code Chrysalis/floppyDisc/src/App.jsx",[],["63","64"],"/Users/work/Code Chrysalis/floppyDisc/src/components/ProductList.jsx",[],["65","66"],"/Users/work/Code Chrysalis/floppyDisc/src/components/Header.jsx",["67","68"],"import React, { useState } from \"react\";\n// import { useStripe } from \"@stripe/react-stripe-js\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Header = () => {\n  const history = useHistory();\n  // const [createUserLink, setCreateUserLink] = useState();\n\n  const handleLoginButton = () => {\n    history.push(\"/login\");\n  };\n\n  const handleSignupButton = () => {\n    history.push(\"/register\");\n  };\n\n  return (\n    <div>\n      <div className=\"login-wrapper\">\n        <button\n          onClick={() => handleLoginButton()}\n          type=\"button\"\n          className=\"nes-btn is-primary is-dark\"\n          id=\"seller-signup-btn\"\n        >\n          Log In{\" \"}\n        </button>\n        <h1>TimeMachine</h1>\n        <button\n          onClick={() => handleSignupButton()}\n          type=\"button\"\n          className=\"nes-btn is-primary is-dark\"\n          id=\"seller-login-btn\"\n        >\n          Sign Up{\" \"}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n",["69","70"],"/Users/work/Code Chrysalis/floppyDisc/src/components/SearchBar.jsx",["71"],"import React, { useState } from \"react\";\n\nconst SearchBar = ({\n  products,\n  setProducts,\n  filteredProducts,\n  setFilteredProducts,\n}) => {\n  const handleFilter = event => {\n    if (products) setFilteredProducts(products);\n    setFilteredProducts(\n      products.filter(product =>\n        product.game_title\n          .toLowerCase()\n          .includes(event.target.value.toLowerCase())\n      )\n    );\n    console.log(filteredProducts);\n  };\n\n  return (\n    <div className=\"nes-field search-bar-wrapper\">\n      <label htmlFor=\"name_field\">Search for your favourite game</label>\n      <input\n        type=\"text\"\n        id=\"name_field\"\n        className=\"nes-input is-dark\"\n        onChange={handleFilter}\n      />\n    </div>\n  );\n};\n\nexport default SearchBar;\n","/Users/work/Code Chrysalis/floppyDisc/src/components/Product.jsx",[],["72","73"],"/Users/work/Code Chrysalis/floppyDisc/src/index.js",[],"/Users/work/Code Chrysalis/floppyDisc/src/routes/Login.jsx",["74","75","76","77"],"import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\nconst Login = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userDetails, setUserDetails] = useState();\n\n  // Login form field handlers\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  const handleSignUp = () => {\n    history.push(\"/register\");\n  };\n\n  // const createUser = async () => {\n  //   const link = await axios.post(\"/api/createuser\").then(res => res.data);\n  //   if (link) {\n  //     window.open(link);\n  //   }\n  //   return;\n  // };\n\n  //on Register form submit\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Call the api\n    let userInfo;\n    axios\n      .post(\"/login\", {\n        email: email,\n        password: password,\n      })\n      .then(res => {\n        console.log(\"Login Success\", res.data);\n        userInfo = jwt_decode(res.data.authToken);\n        if (res.status === 200) {\n          history.push(\"/dashboard\", userInfo);\n        }\n      })\n      .catch(err => {\n        console.log(\"Error singing in\", err);\n      });\n  };\n\n  const createUser = async () => {\n    const link = await axios.post(\"/api/createuser\").then(res => res.data);\n    if (link) {\n      window.open(link);\n    }\n    return;\n  };\n  return (\n    <div>\n      {!loggedIn && (\n        <div className=\"login-wrapper\">\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"email_field\">Enter your email</label>\n\n            <input\n              id=\"email_field\"\n              className=\"nes-input is-dark\"\n              placeholder=\"Email\"\n              required\n              type=\"email\"\n              value={email}\n              onChange={e => handleEmailChange(e)}\n            />\n            <label htmlFor=\"password_field\">Enter your password</label>\n\n            <input\n              id=\"password_field\"\n              type=\"password\"\n              className=\"nes-input is-dark\"\n              placeholder=\"Password\"\n              required\n              value={password}\n              onChange={e => handlePasswordChange(e)}\n            />\n            <button\n              className=\"nes-btn is-primary is-dark\"\n              onClick={handleSignUp}\n            >\n              Sign Up\n            </button>\n            <button className=\"nes-btn  is-dark\" type={\"submit\"}>\n              Log In\n            </button>\n          </form>\n        </div>\n      )}\n\n      {/* PROFILE AREA AND LINK TO STRIPE  */}\n\n      {/* {loggedIn && (\n        <div className=\"profile-header\">\n          <button className=\"nes-btn is-primary is-dark\" onClick={createUser}>\n            Log in to Stripe\n          </button>\n          <h1>PPROFILE!!</h1>\n        </div>\n      )} */}\n    </div>\n  );\n};\n\nexport default Login;\n","/Users/work/Code Chrysalis/floppyDisc/src/routes/Home.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/components/Profile.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/components/AddGame.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/reportWebVitals.js",[],"/Users/work/Code Chrysalis/floppyDisc/src/routes/Register.jsx",["78"],"import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Register = () => {\n  const history = useHistory();\n  //local state\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [stripeId, setStripeId] = useState(\"\");\n  const [loginSuccess, setLoginSuccess] = useState(false);\n\n  const handleLogIn = () => {\n    history.push(\"/login\");\n  };\n\n  // Form Field Handlers\n  function handleFirstNameChange(e) {\n    setFirstName(e.target.value);\n  }\n  function handleLastNameChange(e) {\n    setLastName(e.target.value);\n  }\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function resetForm() {\n    setFirstName(\"\");\n    setLastName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n\n  //on Register form submit\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Call the api\n    axios\n      .post(\"/signup\", {\n        first_name: firstName,\n        last_name: lastName,\n        email: email,\n        password: password,\n        stripe_id: stripeId,\n      })\n      .then(res => {\n        console.log(\"Login Success\", res);\n        if (res.status === 200) {\n          //Reset Form field\n          resetForm();\n          // Inform User\n          setLoginSuccess(true);\n        }\n      })\n      .catch(err => {\n        console.log(\"Error registering user\", err);\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"login-wrapper\">\n        <form onSubmit={handleSubmit}>\n          <label htmlFor=\"first_name_field\">Enter your first name</label>\n\n          <input\n            id=\"first_name_field\"\n            type=\"text\"\n            className=\"nes-input is-dark\"\n            placeholder=\"First Name\"\n            required\n            value={firstName}\n            onChange={e => handleFirstNameChange(e)}\n          />\n          <label htmlFor=\"last_name_field\">Enter your last name</label>\n\n          <input\n            id=\"last_name_field\"\n            type=\"text\"\n            className=\"nes-input is-dark\"\n            placeholder=\"Last Name\"\n            required\n            value={lastName}\n            onChange={e => handleLastNameChange(e)}\n          />\n          <label htmlFor=\"last_name_field\">Enter your email</label>\n\n          <input\n            id=\"email_field\"\n            type=\"email\"\n            className=\"nes-input is-dark\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={e => handleEmailChange(e)}\n          />\n          <label htmlFor=\"password_field\">Enter your password</label>\n\n          <input\n            id=\"password_field\"\n            type=\"password\"\n            className=\"nes-input is-dark\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={e => handlePasswordChange(e)}\n          />\n\n          <button className=\"nes-btn is-primary is-dark\" type=\"submit\">\n            Sign Up\n          </button>\n          <button className=\"nes-btn  is-dark\" onClick={handleLogIn}>\n            Login\n          </button>\n        </form>\n      </div>\n      {loginSuccess && <p> Registered Successfully, Login to continue</p>}\n    </div>\n  );\n};\n\nexport default Register;\n","/Users/work/Code Chrysalis/floppyDisc/src/routes/Dashboard.jsx",["79"],"import React, { useEffect, useState } from \"react\";\nimport Profile from \"../components/Profile\";\nimport axios from \"axios\";\n\nconst Dashboard = state => {\n  const [userInfo, setUserInfo] = useState();\n  useEffect(() => {\n    setUserInfo(state.location.state);\n  }, []);\n\n  const createUser = async () => {\n    const link = await axios.post(\"/api/createuser\").then(res => res.data);\n    if (link) {\n      window.open(link.url);\n      axios\n        .patch(`/users/${userInfo.id}`, { stripe_id: link.id })\n        .then(res => res.data);\n    }\n    return;\n  };\n\n  const stripeSignIn = async stripe_id => {\n    console.log(stripe_id);\n    const link = await axios\n      .post(\"/stripesignin\", { stripe_id })\n      .then(res => res.data);\n    if (link) {\n      window.open(link.url);\n    }\n    return;\n  };\n\n  const stripeUserCheck = () => {\n    axios.get(`/users/${userInfo.id}`).then(res => {\n      res.data[0].stripe_id.length === 0\n        ? createUser()\n        : stripeSignIn(res.data[0].stripe_id);\n    });\n  };\n\n  return (\n    <div>\n      <button\n        className=\"nes-btn is-primary is-dark\"\n        onClick={() => stripeUserCheck()}\n      >\n        Stripe\n      </button>\n      <h1>Dashboard {userInfo && \"for \" + userInfo.first_name}</h1>\n      <Profile userInfo={userInfo} />\n    </div>\n  );\n};\n\nexport default Dashboard;\n",{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"80","replacedBy":"84"},{"ruleId":"82","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":1,"column":17,"nodeType":"88","messageId":"89","endLine":1,"endColumn":25},{"ruleId":"86","severity":1,"message":"90","line":3,"column":8,"nodeType":"88","messageId":"89","endLine":3,"endColumn":13},{"ruleId":"80","replacedBy":"91"},{"ruleId":"82","replacedBy":"92"},{"ruleId":"86","severity":1,"message":"87","line":1,"column":17,"nodeType":"88","messageId":"89","endLine":1,"endColumn":25},{"ruleId":"80","replacedBy":"93"},{"ruleId":"82","replacedBy":"94"},{"ruleId":"86","severity":1,"message":"95","line":7,"column":20,"nodeType":"88","messageId":"89","endLine":7,"endColumn":31},{"ruleId":"86","severity":1,"message":"96","line":11,"column":10,"nodeType":"88","messageId":"89","endLine":11,"endColumn":21},{"ruleId":"86","severity":1,"message":"97","line":11,"column":23,"nodeType":"88","messageId":"89","endLine":11,"endColumn":37},{"ruleId":"86","severity":1,"message":"98","line":55,"column":9,"nodeType":"88","messageId":"89","endLine":55,"endColumn":19},{"ruleId":"86","severity":1,"message":"99","line":12,"column":20,"nodeType":"88","messageId":"89","endLine":12,"endColumn":31},{"ruleId":"100","severity":1,"message":"101","line":9,"column":6,"nodeType":"102","endLine":9,"endColumn":8,"suggestions":"103"},"no-native-reassign",["104"],"no-negated-in-lhs",["105"],["104"],["105"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.",["104"],["105"],["104"],["105"],"'setLoggedIn' is assigned a value but never used.","'userDetails' is assigned a value but never used.","'setUserDetails' is assigned a value but never used.","'createUser' is assigned a value but never used.","'setStripeId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'state.location.state'. Either include it or remove the dependency array. If 'setUserInfo' needs the current value of 'state.location.state', you can also switch to useReducer instead of useState and read 'state.location.state' in the reducer.","ArrayExpression",["106"],"no-global-assign","no-unsafe-negation",{"desc":"107","fix":"108"},"Update the dependencies array to be: [state.location.state]",{"range":"109","text":"110"},[264,266],"[state.location.state]"]