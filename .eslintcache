[{"/Users/work/Code Chrysalis/floppyDisc/src/App.jsx":"1","/Users/work/Code Chrysalis/floppyDisc/src/components/Product.jsx":"2","/Users/work/Code Chrysalis/floppyDisc/src/components/AddGame.jsx":"3","/Users/work/Code Chrysalis/floppyDisc/src/index.js":"4","/Users/work/Code Chrysalis/floppyDisc/src/routes/Home.jsx":"5","/Users/work/Code Chrysalis/floppyDisc/src/routes/Login.jsx":"6","/Users/work/Code Chrysalis/floppyDisc/src/routes/Register.jsx":"7","/Users/work/Code Chrysalis/floppyDisc/src/components/Profile.jsx":"8","/Users/work/Code Chrysalis/floppyDisc/src/components/ProductList.jsx":"9","/Users/work/Code Chrysalis/floppyDisc/src/routes/Dashboard.jsx":"10","/Users/work/Code Chrysalis/floppyDisc/src/components/SearchBar.jsx":"11","/Users/work/Code Chrysalis/floppyDisc/src/components/Header.jsx":"12"},{"size":1126,"mtime":1608172201711,"results":"13","hashOfConfig":"14"},{"size":3351,"mtime":1608251985004,"results":"15","hashOfConfig":"14"},{"size":2610,"mtime":1608251585950,"results":"16","hashOfConfig":"14"},{"size":536,"mtime":1608080645016,"results":"17","hashOfConfig":"14"},{"size":337,"mtime":1608098509449,"results":"18","hashOfConfig":"14"},{"size":3018,"mtime":1608199875758,"results":"19","hashOfConfig":"14"},{"size":3398,"mtime":1608182739116,"results":"20","hashOfConfig":"14"},{"size":881,"mtime":1608251622715,"results":"21","hashOfConfig":"14"},{"size":1099,"mtime":1608204463874,"results":"22","hashOfConfig":"14"},{"size":1967,"mtime":1608251716535,"results":"23","hashOfConfig":"14"},{"size":761,"mtime":1608102488081,"results":"24","hashOfConfig":"14"},{"size":982,"mtime":1608268675437,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"7tskzy",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"37"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"37"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"34"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/work/Code Chrysalis/floppyDisc/src/App.jsx",[],["59","60"],"/Users/work/Code Chrysalis/floppyDisc/src/components/Product.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/components/AddGame.jsx",["61","62","63"],"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst AddGame = ({ accountInfo, stripeId }) => {\n  const [title, setTitle] = useState();\n  const [price, setPrice] = useState();\n  const [imageUrl, setImageUrl] = useState();\n  const [condition, setCondition] = useState();\n  const [userInfo, setUserInfo] = useState();\n\n  const handleTitle = event => {\n    setTitle(event.target.value);\n  };\n  const handlePrice = event => {\n    setPrice(event.target.value);\n  };\n  const handleImageUrl = event => {\n    setImageUrl(event.target.value);\n  };\n  const handleCondition = event => {\n    setCondition(event.target.value);\n  };\n\n  // useEffect(() => {\n  //   setUserInfo(accountInfo);\n  //   console.log(userInfo);\n  // }, [accountInfo]);\n  const postItem = () => {\n    axios\n      .post(\"/items\", {\n        seller_name: accountInfo.first_name,\n        image_URL: imageUrl,\n        game_price: price,\n        game_title: title,\n        game_condition: condition,\n        seller_stripe_id: stripeId,\n      })\n      .then(res => res.data)\n      .catch(err => console.log(err));\n  };\n\n  return (\n    <div className=\"add-game-wrapper\">\n      <form onSubmit={() => postItem()}>\n        <i class=\"nes-logo\"></i>\n        <label htmlFor=\"title_field\">Game Title</label>\n\n        <input\n          id=\"name_field\"\n          type=\"text\"\n          className=\"nes-input is-dark\"\n          placeholder=\"Game Title\"\n          onChange={handleTitle}\n        />\n\n        <i className=\"nes-icon coin \"></i>\n        <label htmlFor=\"price_field\">Price</label>\n\n        <input\n          id=\"price_field\"\n          type=\"text\"\n          className=\"nes-input is-dark \"\n          placeholder=\"Price\"\n          onChange={handlePrice}\n        />\n\n        <label htmlFor=\"img_field\">Image Url</label>\n\n        <input\n          id=\"img_field\"\n          type=\"text\"\n          className=\"nes-input is-dark is-success\"\n          placeholder=\"Image Url\"\n          onChange={handleImageUrl}\n        />\n\n        <div class=\"nes-select is-dark\">\n          <label htmlFor=\"dark_select\">Condition of Game</label>\n          <select required id=\"dark_select\" onChange={handleCondition}>\n            <option value=\"\" disabled selected hidden>\n              Select Condition\n            </option>\n            <option value=\"S\">S</option>\n            <option value=\"A\">A</option>\n            <option value=\"B\">B</option>\n            <option value=\"C\">C</option>\n            <option value=\"D\">D</option>\n          </select>\n        </div>\n        <button>Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default AddGame;\n",["64","65"],"/Users/work/Code Chrysalis/floppyDisc/src/index.js",[],["66","67"],"/Users/work/Code Chrysalis/floppyDisc/src/routes/Home.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/routes/Login.jsx",["68","69","70","71"],"import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\nconst Login = () => {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userDetails, setUserDetails] = useState();\n\n  // Login form field handlers\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  const handleSignUp = () => {\n    history.push(\"/register\");\n  };\n\n  // const createUser = async () => {\n  //   const link = await axios.post(\"/api/createuser\").then(res => res.data);\n  //   if (link) {\n  //     window.open(link);\n  //   }\n  //   return;\n  // };\n\n  //on Register form submit\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Call the api\n    let userInfo;\n    axios\n      .post(\"/login\", {\n        email: email,\n        password: password,\n      })\n      .then(res => {\n        console.log(\"Login Success\", res.data);\n        userInfo = jwt_decode(res.data.authToken);\n        if (res.status === 200) {\n          history.push(\"/dashboard\", userInfo);\n        }\n      })\n      .catch(err => {\n        console.log(\"Error singing in\", err);\n      });\n  };\n\n  const createUser = async () => {\n    const link = await axios.post(\"/api/createuser\").then(res => res.data);\n    if (link) {\n      window.open(link);\n    }\n    return;\n  };\n  return (\n    <div>\n      {!loggedIn && (\n        <div className=\"login-wrapper\">\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"email_field\">Enter your email</label>\n\n            <input\n              id=\"email_field\"\n              className=\"nes-input is-dark\"\n              placeholder=\"Email\"\n              required\n              type=\"email\"\n              value={email}\n              onChange={e => handleEmailChange(e)}\n            />\n            <label htmlFor=\"password_field\">Enter your password</label>\n\n            <input\n              id=\"password_field\"\n              type=\"password\"\n              className=\"nes-input is-dark\"\n              placeholder=\"Password\"\n              required\n              value={password}\n              onChange={e => handlePasswordChange(e)}\n            />\n            <button\n              className=\"nes-btn is-primary is-dark\"\n              onClick={handleSignUp}\n            >\n              Sign Up\n            </button>\n            <button className=\"nes-btn  is-dark\" type={\"submit\"}>\n              Log In\n            </button>\n          </form>\n        </div>\n      )}\n\n      {/* PROFILE AREA AND LINK TO STRIPE  */}\n\n      {/* {loggedIn && (\n        <div className=\"profile-header\">\n          <button className=\"nes-btn is-primary is-dark\" onClick={createUser}>\n            Log in to Stripe\n          </button>\n          <h1>PPROFILE!!</h1>\n        </div>\n      )} */}\n    </div>\n  );\n};\n\nexport default Login;\n",["72","73"],"/Users/work/Code Chrysalis/floppyDisc/src/routes/Register.jsx",["74"],"import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Register = () => {\n  const history = useHistory();\n  //local state\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [stripeId, setStripeId] = useState(\"\");\n  const [loginSuccess, setLoginSuccess] = useState(false);\n\n  const handleLogIn = () => {\n    history.push(\"/login\");\n  };\n\n  // Form Field Handlers\n  function handleFirstNameChange(e) {\n    setFirstName(e.target.value);\n  }\n  function handleLastNameChange(e) {\n    setLastName(e.target.value);\n  }\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function resetForm() {\n    setFirstName(\"\");\n    setLastName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  }\n\n  //on Register form submit\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Call the api\n    axios\n      .post(\"/signup\", {\n        first_name: firstName,\n        last_name: lastName,\n        email: email,\n        password: password,\n        stripe_id: stripeId,\n      })\n      .then(res => {\n        console.log(\"Login Success\", res);\n        if (res.status === 200) {\n          //Reset Form field\n          resetForm();\n          // Inform User\n          setLoginSuccess(true);\n        }\n      })\n      .catch(err => {\n        console.log(\"Error registering user\", err);\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"login-wrapper\">\n        <form onSubmit={handleSubmit}>\n          <label htmlFor=\"first_name_field\">Enter your first name</label>\n\n          <input\n            id=\"first_name_field\"\n            type=\"text\"\n            className=\"nes-input is-dark\"\n            placeholder=\"First Name\"\n            required\n            value={firstName}\n            onChange={e => handleFirstNameChange(e)}\n          />\n          <label htmlFor=\"last_name_field\">Enter your last name</label>\n\n          <input\n            id=\"last_name_field\"\n            type=\"text\"\n            className=\"nes-input is-dark\"\n            placeholder=\"Last Name\"\n            required\n            value={lastName}\n            onChange={e => handleLastNameChange(e)}\n          />\n          <label htmlFor=\"last_name_field\">Enter your email</label>\n\n          <input\n            id=\"email_field\"\n            type=\"email\"\n            className=\"nes-input is-dark\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={e => handleEmailChange(e)}\n          />\n          <label htmlFor=\"password_field\">Enter your password</label>\n\n          <input\n            id=\"password_field\"\n            type=\"password\"\n            className=\"nes-input is-dark\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={e => handlePasswordChange(e)}\n          />\n\n          <button className=\"nes-btn is-primary is-dark\" type=\"submit\">\n            Sign Up\n          </button>\n          <button className=\"nes-btn  is-dark\" onClick={handleLogIn}>\n            Login\n          </button>\n        </form>\n      </div>\n      {loginSuccess && <p> Registered Successfully, Login to continue</p>}\n    </div>\n  );\n};\n\nexport default Register;\n","/Users/work/Code Chrysalis/floppyDisc/src/components/Profile.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/components/ProductList.jsx",[],"/Users/work/Code Chrysalis/floppyDisc/src/routes/Dashboard.jsx",["75"],"import React, { useEffect, useState } from \"react\";\nimport Profile from \"../components/Profile\";\nimport { useHistory } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nconst Dashboard = state => {\n  const history = useHistory();\n  const [userInfo, setUserInfo] = useState();\n\n  useEffect(() => {\n    setUserInfo(state.location.state);\n  }, []);\n\n  const createUser = async () => {\n    const link = await axios.post(\"/api/createuser\").then(res => res.data);\n    if (link) {\n      window.open(link.url);\n      axios\n        .patch(`/users/${userInfo.id}`, { stripe_id: link.id })\n        .then(res => res.data);\n    }\n    return;\n  };\n\n  const stripeSignIn = async stripe_id => {\n    console.log(stripe_id);\n    const link = await axios\n      .post(\"/stripesignin\", { stripe_id })\n      .then(res => res.data);\n    if (link) {\n      window.open(link.url);\n    }\n    return;\n  };\n\n  const stripeUserCheck = () => {\n    axios.get(`/users/${userInfo.id}`).then(res => {\n      res.data[0].stripe_id.length === 0\n        ? createUser()\n        : stripeSignIn(res.data[0].stripe_id);\n    });\n  };\n\n  return (\n    // <div>\n    //   <button\n    //     className=\"nes-btn is-primary is-dark\"\n    //     onClick={() => stripeUserCheck()}\n    //   >\n    //     Stripe\n    //   </button>\n    //   <h1>Dashboard {userInfo && \"for \" + userInfo.first_name}</h1>\n    //   <Profile userInfo={userInfo} />\n    // </div>\n\n    <div>\n      <div className=\"login-wrapper\">\n        <button\n          onClick={() => stripeUserCheck()}\n          type=\"button\"\n          className=\"nes-btn is-primary is-dark\"\n          id=\"stripe-btn\"\n        >\n          Stripe\n        </button>\n        <h1>Dashboard</h1>\n        <button\n          onClick={() => history.push(\"/\")}\n          type=\"button\"\n          className=\"nes-btn is-primary is-dark home-btn\"\n        >\n          Home\n        </button>\n      </div>\n      <Profile userInfo={userInfo} />\n    </div>\n  );\n};\n\nexport default Dashboard;\n","/Users/work/Code Chrysalis/floppyDisc/src/components/SearchBar.jsx",["76"],"import React, { useState } from \"react\";\n\nconst SearchBar = ({\n  products,\n  setProducts,\n  filteredProducts,\n  setFilteredProducts,\n}) => {\n  const handleFilter = event => {\n    if (products) setFilteredProducts(products);\n    setFilteredProducts(\n      products.filter(product =>\n        product.game_title\n          .toLowerCase()\n          .includes(event.target.value.toLowerCase())\n      )\n    );\n    console.log(filteredProducts);\n  };\n\n  return (\n    <div className=\"nes-field search-bar-wrapper\">\n      <label htmlFor=\"name_field\">Search for your favourite game</label>\n      <input\n        type=\"text\"\n        id=\"name_field\"\n        className=\"nes-input is-dark\"\n        onChange={handleFilter}\n      />\n    </div>\n  );\n};\n\nexport default SearchBar;\n","/Users/work/Code Chrysalis/floppyDisc/src/components/Header.jsx",["77","78"],{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":1,"column":27,"nodeType":"85","messageId":"86","endLine":1,"endColumn":36},{"ruleId":"83","severity":1,"message":"87","line":9,"column":10,"nodeType":"85","messageId":"86","endLine":9,"endColumn":18},{"ruleId":"83","severity":1,"message":"88","line":9,"column":20,"nodeType":"85","messageId":"86","endLine":9,"endColumn":31},{"ruleId":"79","replacedBy":"89"},{"ruleId":"81","replacedBy":"90"},{"ruleId":"79","replacedBy":"91"},{"ruleId":"81","replacedBy":"92"},{"ruleId":"83","severity":1,"message":"93","line":7,"column":20,"nodeType":"85","messageId":"86","endLine":7,"endColumn":31},{"ruleId":"83","severity":1,"message":"94","line":11,"column":10,"nodeType":"85","messageId":"86","endLine":11,"endColumn":21},{"ruleId":"83","severity":1,"message":"95","line":11,"column":23,"nodeType":"85","messageId":"86","endLine":11,"endColumn":37},{"ruleId":"83","severity":1,"message":"96","line":55,"column":9,"nodeType":"85","messageId":"86","endLine":55,"endColumn":19},{"ruleId":"79","replacedBy":"97"},{"ruleId":"81","replacedBy":"98"},{"ruleId":"83","severity":1,"message":"99","line":12,"column":20,"nodeType":"85","messageId":"86","endLine":12,"endColumn":31},{"ruleId":"100","severity":1,"message":"101","line":13,"column":6,"nodeType":"102","endLine":13,"endColumn":8,"suggestions":"103"},{"ruleId":"83","severity":1,"message":"104","line":1,"column":17,"nodeType":"85","messageId":"86","endLine":1,"endColumn":25},{"ruleId":"83","severity":1,"message":"104","line":1,"column":17,"nodeType":"85","messageId":"86","endLine":1,"endColumn":25},{"ruleId":"83","severity":1,"message":"105","line":3,"column":8,"nodeType":"85","messageId":"86","endLine":3,"endColumn":13},"no-native-reassign",["106"],"no-negated-in-lhs",["107"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'userInfo' is assigned a value but never used.","'setUserInfo' is assigned a value but never used.",["106"],["107"],["106"],["107"],"'setLoggedIn' is assigned a value but never used.","'userDetails' is assigned a value but never used.","'setUserDetails' is assigned a value but never used.","'createUser' is assigned a value but never used.",["106"],["107"],"'setStripeId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'state.location.state'. Either include it or remove the dependency array. If 'setUserInfo' needs the current value of 'state.location.state', you can also switch to useReducer instead of useState and read 'state.location.state' in the reducer.","ArrayExpression",["108"],"'useState' is defined but never used.","'axios' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"109","fix":"110"},"Update the dependencies array to be: [state.location.state]",{"range":"111","text":"112"},[345,347],"[state.location.state]"]